<%- include('partials/header') -%>
  <div class="container">
    <div id="map" style="width: 100%; height: 700px"></div>
    <div class="row justify-content-center mt-5">
      <ul class="row list-unstyled">
        <% for(var i=0; i<posts.length; i++) {%>
          <li class="col-6 justify-content-between mt-5">
            <a href="/post/<%= posts[i]._id%>">
              <img class="img-fluid" src="<%= posts[i].image%>">
            </a>
          </li>
        <% } %>
        </ul>
    </div>
  </div>  

  <script>
    // map initialization and settings 
    function initMap() {
      var options = {
        zoom: 2,
        center: { lat: 42.3601, lng: -71.0589 }
      }

      //new map 
      var map = new google.maps.Map(document.getElementById('map'), options)

      //marker
      // var marker = new google.maps.Marker({
      //   position: { lat: 42.4668, lng: -70.9589 },
      //   map: map
      // });

      // //info window, eventually display post.title
      // var infoWindow = new google.maps.InfoWindow({
      //   content: '<h2>Post Title</h2>'
      // });
      // marker.addListener('click', function () {
      //   infoWindow.open(map, marker);
      // });

      // addMarker({ lat: 42.4668, lng: -70.9589 })
      // addMarker({ lat: 23.4668, lng: -99.9589 })

function addMarker(coords){
  var marker = new google.maps.Marker({
        position: coords,
        map: map
      })
}

}
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-oZUXr3OkqE-mldzo_BnnUpTq4-dbR78&callback=initMap&v=weekly">
    </script>


<%- include('partials/footer') -%>